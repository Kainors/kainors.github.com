<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: JSAPI | 小諾的沒技術農場]]></title>
  <link href="http://Kainors.github.com/blog/categories/jsapi/atom.xml" rel="self"/>
  <link href="http://Kainors.github.com/"/>
  <updated>2012-10-04T16:56:43+08:00</updated>
  <id>http://Kainors.github.com/</id>
  <author>
    <name><![CDATA[Kainors]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[初探OpenLayers]]></title>
    <link href="http://Kainors.github.com/blog/2012/10/04/first-openlayers/"/>
    <updated>2012-10-04T11:50:00+08:00</updated>
    <id>http://Kainors.github.com/blog/2012/10/04/first-openlayers</id>
    <content type="html"><![CDATA[<p>因為工作上，老闆提到這玩意兒<br/>
先拿來稍微做一下研究，並做點紀錄</p>

<!--more-->


<p>OpenLayers的網站<a href="http://openlayers.org/">在此</a><br/>
只要將整個API下載下來就可以使用了<br/>
而裡面的example資料夾中也有許多範例程式碼<br/>
因為一開始自己直接寫，發現不管怎樣都不會出現地圖<br/>
於是乾脆參考範例，才發現放地圖的那個DIV容器還需要設定寬高才會顯示<br/>
白白的浪費不少時間測試<br/>
下次就記得有新的API要玩就直接看範例來玩吧XD</p>

<p>廢話不多說<br/>
要建立OpenLayers的地圖<br/>
首先先將下載來的檔案中<code>OpenLayers.js</code>、<code>img資料夾</code>及<code>lib資料夾</code><br/>
放到自己網站中，注意這三個要放在同一個資料夾中<br/>
另外，<code>theme資料夾</code>有一些預設的樣式可以用<br/>
就順便放在一起吧!!<br/>
接著就開一個新的html頁面來編輯<br/>
<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Test1  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="ni">&amp;lt;</span>!DOCTYPE html&gt;
</span><span class='line'><span class="nt">&lt;html&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;pre&gt;&lt;code&gt;</span><span class="ni">&amp;lt;</span>head<span class="ni">&amp;gt;</span>
</span><span class='line'>    <span class="ni">&amp;lt;</span>script src=&quot;./OpenLayers.js&quot; type=&quot;text/javascript&quot;<span class="ni">&amp;gt;&amp;lt;</span>/script<span class="ni">&amp;gt;</span>
</span><span class='line'>    <span class="ni">&amp;lt;</span>style<span class="ni">&amp;gt;</span>
</span><span class='line'>        #map{
</span><span class='line'>            width:300px;
</span><span class='line'>            height:200px;
</span><span class='line'>            border: 1px solid #ccc;&quot;
</span><span class='line'>        }
</span><span class='line'>    <span class="ni">&amp;lt;</span>/style<span class="ni">&amp;gt;</span>
</span><span class='line'>    <span class="ni">&amp;lt;</span>script type=&quot;text/javascript&quot;<span class="ni">&amp;gt;</span>
</span><span class='line'>        function init(){
</span><span class='line'>            var map = new OpenLayers.Map(&quot;my_map&quot;);
</span><span class='line'>        }
</span><span class='line'>    <span class="ni">&amp;lt;</span>/script<span class="ni">&amp;gt;</span>
</span><span class='line'><span class="ni">&amp;lt;</span>/head<span class="ni">&amp;gt;</span>
</span><span class='line'><span class="ni">&amp;lt;</span>body onLoad=&quot;init()&quot;<span class="ni">&amp;gt;</span>
</span><span class='line'>    <span class="ni">&amp;lt;</span>div id =&quot;my_map&quot;<span class="ni">&amp;gt;&amp;lt;</span>/div<span class="ni">&amp;gt;</span>
</span><span class='line'><span class="ni">&amp;lt;</span>/body<span class="ni">&amp;gt;</span>
</span><span class='line'><span class="nt">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
非常簡單只要把要當作容器的DIV ID設定給OpenLayers.Map中<br/>
我們就可以有一個Map容器<br/>
但是只有這樣還是不會有地圖的<br/>
還要為這個Map容器放入地圖圖層才能使用<br/>
在這邊用Google Map來當作範例<br/>
在此之前要先引用Google Map的API<br/>
```html test2</p>

<script src="http://maps.google.com/maps/api/js?v=3&amp;sensor=false"></script>


<p><code>
接著在原先的init function中加入  
</code>js test3
var gmap = new OpenLayers.Layer.Google(</p>

<pre><code>"Google Streets", // the default
{numZoomLevels: 20, visibility: false}
</code></pre>

<p>);
map.addLayer(gmap);
map.setCenter(new OpenLayers.LonLat(10.2, 48.9).transform(</p>

<pre><code>new OpenLayers.Projection("EPSG:4326"),
map.getProjectionObject()
</code></pre>

<p>), 5);
```
如此一來就可以看到地圖了!!</p>
]]></content>
  </entry>
  
</feed>
