<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: JSAPI | 小諾的沒技術農場]]></title>
  <link href="http://Kainors.github.com/blog/categories/jsapi/atom.xml" rel="self"/>
  <link href="http://Kainors.github.com/"/>
  <updated>2012-10-04T17:31:37+08:00</updated>
  <id>http://Kainors.github.com/</id>
  <author>
    <name><![CDATA[Kainors]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[初探OpenLayers]]></title>
    <link href="http://Kainors.github.com/blog/2012/10/04/first-openlayers/"/>
    <updated>2012-10-04T11:50:00+08:00</updated>
    <id>http://Kainors.github.com/blog/2012/10/04/first-openlayers</id>
    <content type="html"><![CDATA[<p>因為工作上，老闆提到這玩意兒<br/>
先拿來稍微做一下研究，並做點紀錄</p>

<!--more-->


<p>OpenLayers的網站<a href="http://openlayers.org/">在此</a><br/>
只要將整個API下載下來就可以使用了<br/>
而裡面的example資料夾中也有許多範例程式碼<br/>
因為一開始自己直接寫，發現不管怎樣都不會出現地圖<br/>
於是乾脆參考範例，才發現放地圖的那個DIV容器還需要設定寬高才會顯示<br/>
白白的浪費不少時間測試<br/>
下次就記得有新的API要玩就直接看範例來玩吧XD</p>

<p>廢話不多說<br/>
要建立OpenLayers的地圖<br/>
首先先將下載來的檔案中<code>OpenLayers.js</code>、<code>img資料夾</code>及<code>lib資料夾</code><br/>
放到自己網站中，注意這三個要放在同一個資料夾中<br/>
另外，<code>theme資料夾</code>有一些預設的樣式可以用<br/>
就順便放在一起吧!!<br/>
接著就開一個新的html頁面來編輯<br/>
```html
&lt;!DOCTYPE html>
<html></p>

<pre><code>&lt;head&gt;
    &lt;script src="./OpenLayers.js" type="text/javascript"&gt;&lt;/script&gt;
    &lt;style&gt;
        #map{
            width:300px;
            height:200px;
            border: 1px solid #ccc;"
        }
    &lt;/style&gt;
    &lt;script type="text/javascript"&gt;
        function init(){
            var map = new OpenLayers.Map("my_map");
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body onLoad="init()"&gt;
    &lt;div id ="my_map"&gt;&lt;/div&gt;
&lt;/body&gt;
</code></pre>

<p></html>
<code>
非常簡單只要把要當作容器的DIV ID設定給OpenLayers.Map中  
我們就可以有一個Map容器  
但是只有這樣還是不會有地圖的  
還要為這個Map容器放入地圖圖層才能使用  
在這邊用Google Map來當作範例  
在此之前要先引用Google Map的API  
</code>html</p>

<script src="http://maps.google.com/maps/api/js?v=3&amp;sensor=false"></script>


<p><code>
接著在原先的`init()`function中加入  
</code>js
var gmap = new OpenLayers.Layer.Google(</p>

<pre><code>"Google Streets", // the default
{numZoomLevels: 20, visibility: false}
</code></pre>

<p>);
map.addLayer(gmap);
map.setCenter(new OpenLayers.LonLat(10.2, 48.9).transform(</p>

<pre><code>new OpenLayers.Projection("EPSG:4326"),
map.getProjectionObject()
</code></pre>

<p>), 5);
```
如此一來就可以看到地圖了!!</p>

<script src="http://openlayers.org/api/OpenLayers.js"></script>


<script src="http://maps.google.com/maps/api/js?v=3&amp;sensor=false"></script>


<script src="http://Kainors.github.com//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>


<script type="text/javascript">
    (function(){
        var map = new OpenLayers.Map("my_map");
        var gmap = new OpenLayers.Layer.Google(
            "Google Streets", // the default
            {numZoomLevels: 20, visibility: false}
        );
        map.addLayer(gmap); 
        map.setCenter(new OpenLayers.LonLat(10.2, 48.9).transform(
            new OpenLayers.Projection("EPSG:4326"),
            map.getProjectionObject()
        ), 5);
    });
</script>


<div id="my_map" style="width:300px;height:200px;border: 1px solid #ccc;"></div>

]]></content>
  </entry>
  
</feed>
